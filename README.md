Datenbank anlegen Befehle:


CREATE TABLE users (
	id INT NOT NULL AUTO_INCREMENT,
	name VARCHAR(255) NOT NULL UNIQUE,
	passwordHash VARCHAR(255) NOT NULL,
	createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	PRIMARY KEY (id)
);

CREATE TABLE decks (
	id INT NOT NULL AUTO_INCREMENT,
	user_id INT NOT NULL,
	name VARCHAR(255) NOT NULL,
	createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	lastChanged TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
	PRIMARY KEY (id),
	FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE cards (
	id INT NOT NULL AUTO_INCREMENT,
	deck_id INT NOT NULL,
	front TEXT NOT NULL,
	back TEXT NOT NULL,
	dueDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	currentInterval INT NOT NULL DEFAULT 1,
	easeFactor FLOAT NOT NULL DEFAULT 2.5,
	repetitions INT NOT NULL DEFAULT 0,
	createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	lastChanged TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
	PRIMARY KEY (id),
	FOREIGN KEY (deck_id) REFERENCES decks(id) ON DELETE CASCADE
);